<div class="container pt-4">

  <div class="row text-center">
    <h2 class="mb-0 text-center w-100">Story Title</h2>
    <hr class="mt-4 mb-2 bg-primary w-50">
  </div>

  <div class="row">
    <ngb-tabset class="w-100" justify="center">
      <!-- Details Tab -->
      <ngb-tab title="Details">
        <ng-template ngbTabContent>
          <div class="container">
            <div class="row my-3 ">
              <div class="bg-secondary text-white pr-2 d-flex flex-column justify-content-center text-right d-inline-block mx-auto">
                <i class="fas fa-book fa-3x m-5"></i>
              </div>
            </div>
            <div class="row my-3">
              <div class="col text-center">
                <button routerLink="/my-stories/1/edit" class="btn btn-secondary mr-2">Edit Story</button>
                <button class="btn btn-primary ml-2">Publish</button>
              </div>
            </div>
            <div class="row">
              <div class="col-md-8 mx-auto d-flex flex-row text-center">
                <div class="w-100">
                  <p class="mb-1 mr-2">Author: Jose Meono</p>
                  <p class="mb-1 mr-2">Genre: Mystery</p>
                  <p class="mb-1 mr-2">Tags: #funny, #humor, #thriller</p>
                  <p class="mb-1">Publish Date: 03/05/2019</p>
                </div>
              </div>
            </div>
          </div>
          <p class="mb-1 text-center">Summary: Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean
            dapibus pellentesque scelerisque. Aliquam mattis, massa ac pretium volutpat, mauris dolor vulputate risus,
            eget scelerisque arcu ipsum sit amet nunc. Sed sit amet aliquet purus. In hac habitasse platea dictumst.
            Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere
            cubilia Curae.
          </p>
        </ng-template>
      </ngb-tab>

      <!-- Comments Tab -->
      <ngb-tab title="Comments">
        <ng-template ngbTabContent>
          <div class="container pt-2">
            <div class="row">
              <div class="col-md-8 mx-auto">
                <input type="text" class="form-control" placeholder="New Comment">
                <div class="text-center mt-1 mb-2">
                  <button class="btn btn-primary ">Submit</button>
                </div>
              </div>
            </div>
            <div class="row pt-3">
              <div class="col-md-8 mx-auto border border-light rounded shadow p-2">
                <p class="mb-1">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean
                  dapibus pellentesque scelerisque.</p>
                <p class="mb-0 muted"><small>Courtney Walker, 03/01/2019 4:53PM</small></p>
              </div>
            </div>
          </div>
        </ng-template>
      </ngb-tab>

      <!-- Chapters Tab -->
      <ngb-tab title="Chapters">
        <ng-template ngbTabContent>
          <div class="container pt-2">
            <div class="row pt-3">
              <div class="col text-center">
                <button (click)="open(newChapter)" class="btn btn-primary">Create New Chapter</button>
              </div>
            </div>
            <div class="row pt-3">
              <div class="col-md-8 mx-auto">
                <div 
                  routerLink="/my-stories/1/chapters/1" 
                  *ngFor="let x of [1, 2, 3, 4]" 
                  class="d-flex flex-row p-2 chp-row">
                  <p class="mb-1 mr-auto pt-2">Chapter {{x}}: We Will Survive!</p>
                </div> 
              </div>
            </div>
          </div>
        </ng-template>
      </ngb-tab>
    </ngb-tabset>
  </div>



  <ng-template #newChapter let-modal>
    <div class="modal-header border-light pb-2">
      <h4 class="w-100 pl-4 text-center" id="modal-basic-title">New Chapter</h4>
      <button class="close" aria-label="Close" (click)="modal.dismiss()">
        <i class="fa fa-times mt-1"></i>
      </button>
    </div>
    <div class="modal-body">
      <div class="form-group">
        <label for="chapterName">Chapter Name</label>
        <input type="text" name="chapterName" class="form-control" placeholder="Enter Chapter Name">
      </div>
      <button [class]="(loading ? 'disabled ' : '') + 'btn btn-primary d-block w-50 mx-auto'" (click)="createChapter()">
        <div *ngIf="!loading; else spinner">Create</div>
        <ng-template #spinner><i class="fa fa-circle-notch fa-spin"></i></ng-template>
      </button>
    </div>
  </ng-template>
</div>
