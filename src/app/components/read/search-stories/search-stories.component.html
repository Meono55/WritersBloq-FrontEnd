<div class="container pt-4">
  
  <!-- Search bar -->
  <div class="row pt-3">
    <div class="col-md-8 mx-auto">
      <div class="input-group shadow">

        <!-- Choose a search type -->
        <div class="input-group-prepend">
          <div ngbDropdown>
            <button class="btn btn-primary rounded-fix" id="searchTypes" ngbDropdownToggle>{{storyService.searchType}}</button>
            <div ngbDropdownMenu aria-labelledby="searchTypes" class="w-100">
              <button 
                *ngFor="let type of storyService.possibleTypes"
                (click)="storyService.changeSearchType(type)" 
                class="dropdown-item"
                [disabled]="type == storyService.searchType"
              >{{type}}</button>
            </div>
          </div>
        </div>

        <!-- Enter search query -->
        <select *ngIf="storyService.searchType != 'Title'; else titleSearch" class="form-control">
          <option selected>Search by {{storyService.searchType}}</option>
          <option>Fantasy</option>
          <option>Horror</option>
          <option>Mystery</option>
          <option>Thriller</option>
        </select>
        <ng-template #titleSearch>
          <input type="text" name="search" class="form-control" [placeholder]="'Search by ' + storyService.searchType">
        </ng-template>

        <!-- Execute the search -->
        <div class="input-group-append">
          <button class="btn btn-primary">
            <i class="fa fa-search"></i>
          </button>
        </div>
      </div>
    </div>
  </div>


  <!-- Stories List Page router outlet -->
  <div class="row">
    <div class="col mx-auto mt-3">
      <div class="d-flex flex-row w-100 justify-content-center py-2">200 Stories Found</div>
      <div class="d-flex flex-row justify-content-center">
        <!-- Previous Page -->
        <a routerLink="" class="btn btn-link rounded-circle mr-2 px-3">
          <i class="fa fa-angle-left fa-lg"></i>
        </a>
  
        <!-- Page List dropdown -->
        <div ngbDropdown>
          <button class="btn btn-primary mr-2" id="pageNumbers" ngbDropdownToggle>Page {{currentPage + 1}}</button>
          <div ngbDropdownMenu aria-labelledby="pageNumbers">
            <button 
              *ngFor="let page of pages"
              (click)="currentPage = page" 
              class="dropdown-item"
              [disabled]="page == currentPage"
            >Page {{page + 1}}</button>
          </div>
        </div>
  
        <!-- Next Page -->
        <a routerLink="" class="btn btn-link rounded-circle px-3">
          <i class="fa fa-angle-right fa-lg"></i>
        </a>
      </div>
    </div>
  </div>
  
  
  <div class="row py-3">
    <div *ngFor="let story of [1, 2, 3, 4, 5, 6, 7, 8, 9, 0]" class="col-sm-10 col-md-6 p-2">
      <app-story-card></app-story-card>
    </div>
  </div>
  
  <div class="row">
    <div class="col mx-auto mb-3">
      <div class="d-flex flex-row justify-content-center">
        <!-- Previous Page -->
        <a routerLink="" class="btn btn-link rounded-circle mr-2 px-3">
          <i class="fa fa-angle-left fa-lg"></i>
        </a>
  
        <!-- Page List dropdown -->
        <div ngbDropdown>
          <button class="btn btn-primary mr-2" id="pageNumbers" ngbDropdownToggle>Page {{currentPage + 1}}</button>
          <div ngbDropdownMenu aria-labelledby="pageNumbers">
            <button 
              *ngFor="let page of pages"
              (click)="currentPage = page" 
              class="dropdown-item"
              [disabled]="page == currentPage"
            >Page {{page + 1}}</button>
          </div>
        </div>
  
        <!-- Next Page -->
        <a routerLink="" class="btn btn-link rounded-circle px-3">
          <i class="fa fa-angle-right fa-lg"></i>
        </a>
      </div>
    </div>
  </div>

</div>
